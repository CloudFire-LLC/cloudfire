"use strict";(self.webpackChunkfirezone_docs=self.webpackChunkfirezone_docs||[]).push([[3840],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>f});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),u=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=u(e.components);return a.createElement(d.Provider,{value:n},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},_=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),o=u(t),_=i,f=o["".concat(d,".").concat(_)]||o[_]||c[_]||l;return t?a.createElement(f,r(r({ref:n},p),{},{components:t})):a.createElement(f,r({ref:n},p))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,r=new Array(l);r[0]=_;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s[o]="string"==typeof e?e:i,r[1]=s;for(var u=2;u<l;u++)r[u]=t[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}_.displayName="MDXCreateElement"},2725:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=t(7462),i=(t(7294),t(3905));const l={title:"Devices",group:"Devices"},r=void 0,s={unversionedId:"reference/rest-api/devices",id:"reference/rest-api/devices",title:"Devices",description:"This endpoint allows an administrator to manage Devices.",source:"@site/docs/reference/rest-api/devices.mdx",sourceDirName:"reference/rest-api",slug:"/reference/rest-api/devices",permalink:"/docs/reference/rest-api/devices",draft:!1,editUrl:"https://github.com/firezone/firezone/blob/master/www/docs/reference/rest-api/devices.mdx",tags:[],version:"current",frontMatter:{title:"Devices",group:"Devices"},sidebar:"tutorialSidebar",previous:{title:"Configurations",permalink:"/docs/reference/rest-api/configurations"},next:{title:"Rules",permalink:"/docs/reference/rest-api/rules"}},d={},u=[{value:"API Documentation",id:"api-documentation",level:2},{value:"GET /v0/devices",id:"get-v0devices",level:3},{value:"Example",id:"example",level:4},{value:"POST /v0/devices",id:"post-v0devices",level:3},{value:"Example",id:"example-1",level:4},{value:"GET /v0/devices/{id}",id:"get-v0devicesid",level:3},{value:"Example",id:"example-2",level:4},{value:"PATCH /v0/devices/{id}",id:"patch-v0devicesid",level:3},{value:"Example",id:"example-3",level:4},{value:"DELETE /v0/devices/{id}",id:"delete-v0devicesid",level:3},{value:"Example",id:"example-4",level:4}],p={toc:u},o="wrapper";function c(e){let{components:n,...t}=e;return(0,i.kt)(o,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This endpoint allows an administrator to manage Devices."),(0,i.kt)("h2",{id:"api-documentation"},"API Documentation"),(0,i.kt)("h3",{id:"get-v0devices"},"GET /v0/devices"),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": [\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "61d5930b-2b35-44b3-87a9-904e81806728",\n      "inserted_at": "2023-03-29T15:11:47.450107Z",\n      "ipv4": "100.72.98.240",\n      "ipv6": "fd00::39:bf15",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 4421",\n      "persistent_keepalive": 25,\n      "preshared_key": "32vztut9u6QJG2spTUMnvcb+twugGlT1ikM6AyiPDv8=",\n      "public_key": "cGEIZje2ITjFDn96F3bItc5BCl8G1r4SWHH/6QUF4ek=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-03-29T15:11:47.450107Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "56062619-2fe2-49de-898c-492d8da794c7"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "05db5d62-218e-4139-92f5-0510903ce4f8",\n      "inserted_at": "2023-03-29T15:11:47.455712Z",\n      "ipv4": "100.111.252.39",\n      "ipv6": "fd00::2:456a",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 5411",\n      "persistent_keepalive": 25,\n      "preshared_key": "78O12m5lG+je3eAqlgJ9pd6d/+VeLjsswsljJFV0jU0=",\n      "public_key": "ADOmUjeMl08RgKNhpRaaaHV3YmI9GOVh81zLVLOPk84=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-03-29T15:11:47.455712Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "9d3e2da3-bce1-4a03-95cc-d8d0a9797a17"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "c865c545-36bd-473e-9c20-9b76766582b2",\n      "inserted_at": "2023-03-29T15:11:47.461266Z",\n      "ipv4": "100.116.252.229",\n      "ipv6": "fd00::7:f039",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 5766",\n      "persistent_keepalive": 25,\n      "preshared_key": "Dlefj06JAOOCtKxoSlLmvmNXq2zql30FvwDFlEpEISQ=",\n      "public_key": "hH9ifN5kI1RtnG54eUXGLEL7Pue9qgGvJ3Gvef7irzU=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-03-29T15:11:47.461266Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "47a8eda4-433a-4ce3-a119-720b5d62ddac"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "93da8405-217e-40b3-a91b-45d8cd28c2d4",\n      "inserted_at": "2023-03-29T15:11:47.467794Z",\n      "ipv4": "100.70.183.42",\n      "ipv6": "fd00::9:a393",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 1417",\n      "persistent_keepalive": 25,\n      "preshared_key": "3ipinU20+iTgqCZxSskRPRTBargqtoG73seKz8wZqiE=",\n      "public_key": "gzAOiYTnq+rFRBDUbRuJhKXCbe+ULB9xjpCy9l0mBCA=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-03-29T15:11:47.467794Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "d8c001ca-ee0f-457f-80a6-802592a7d4ca"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "16b319c1-4d8a-478a-88d2-f17056bf1b66",\n      "inserted_at": "2023-03-29T15:11:47.473062Z",\n      "ipv4": "100.101.38.171",\n      "ipv6": "fd00::39:35af",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 4485",\n      "persistent_keepalive": 25,\n      "preshared_key": "WzNqj8NEQBvYCYjWv4qhuL8sT3n0LVIH52x1xx5U6EE=",\n      "public_key": "eD1iqgs712xDZsplZHd7LrNs+WXYshMH99WFkJ0So8o=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-03-29T15:11:47.473062Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "605c4532-d516-4b59-a7df-b0479d493cce"\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"post-v0devices"},"POST /v0/devices"),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X POST "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "95138a8e-c89f-41b4-b62c-a5b8c23a0b8c"\n  }\n}\'\nEOF\n\nHTTP/1.1 201\nContent-Type: application/json; charset=utf-8\nLocation: /v0/devices/3aefe1b8-d98b-4725-bed3-cad021a13480\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "id": "3aefe1b8-d98b-4725-bed3-cad021a13480",\n    "inserted_at": "2023-03-29T15:11:47.190722Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-03-29T15:11:47.190722Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "95138a8e-c89f-41b4-b62c-a5b8c23a0b8c"\n  }\n}\n')),(0,i.kt)("h3",{id:"get-v0devicesid"},"GET /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-2"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"f85310b7-87b5-4c89-b391-d985f7789007"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0"\n    ],\n    "description": "factory description",\n    "dns": [\n      "1.1.1.1",\n      "1.0.0.1"\n    ],\n    "endpoint": "localhost:51820",\n    "id": "f85310b7-87b5-4c89-b391-d985f7789007",\n    "inserted_at": "2023-03-29T15:11:47.299345Z",\n    "ipv4": "100.99.173.193",\n    "ipv6": "fd00::17:d1a9",\n    "latest_handshake": null,\n    "mtu": 1280,\n    "name": "factory 713",\n    "persistent_keepalive": 25,\n    "preshared_key": "qrcrAnUh7ryP69SwfseKdBNElOSjOC9/Wv7Z+EBxs50=",\n    "public_key": "mLN9py6whsGt+Lg9jP4lX+Cqqlf02plODqWg2UqOmPI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-03-29T15:11:47.299345Z",\n    "use_default_allowed_ips": true,\n    "use_default_dns": true,\n    "use_default_endpoint": true,\n    "use_default_mtu": true,\n    "use_default_persistent_keepalive": true,\n    "user_id": "5f5b582d-9153-46ac-99e5-37a6bc93ce13"\n  }\n}\n')),(0,i.kt)("h3",{id:"patch-v0devicesid"},"PATCH /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-3"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"01272ce2-df59-4816-9d82-44830427d757"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X PUT "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false\n  }\n}\'\nEOF\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "id": "01272ce2-df59-4816-9d82-44830427d757",\n    "inserted_at": "2023-03-29T15:11:47.264313Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-03-29T15:11:47.276849Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "3f7c9d0f-fa89-4619-9237-f0215db34e58"\n  }\n}\n')),(0,i.kt)("h3",{id:"delete-v0devicesid"},"DELETE /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-4"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"29f86ac9-82e8-4691-aa44-ea396d3af476"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl -i \\\n  -X DELETE \"https://{firezone_host}/v0/devices/{id}\" \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer {api_token}' \\\n\nHTTP/1.1 204\n")))}c.isMDXComponent=!0}}]);