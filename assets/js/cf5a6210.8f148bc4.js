"use strict";(self.webpackChunkfirezone_docs=self.webpackChunkfirezone_docs||[]).push([[3840],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>f});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),u=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=u(e.components);return a.createElement(d.Provider,{value:n},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},_=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),o=u(t),_=i,f=o["".concat(d,".").concat(_)]||o[_]||c[_]||l;return t?a.createElement(f,r(r({ref:n},p),{},{components:t})):a.createElement(f,r({ref:n},p))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,r=new Array(l);r[0]=_;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s[o]="string"==typeof e?e:i,r[1]=s;for(var u=2;u<l;u++)r[u]=t[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}_.displayName="MDXCreateElement"},2725:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=t(7462),i=(t(7294),t(3905));const l={title:"Devices",group:"Devices"},r=void 0,s={unversionedId:"reference/rest-api/devices",id:"reference/rest-api/devices",title:"Devices",description:"This endpoint allows an administrator to manage Devices.",source:"@site/docs/reference/rest-api/devices.mdx",sourceDirName:"reference/rest-api",slug:"/reference/rest-api/devices",permalink:"/reference/rest-api/devices",draft:!1,editUrl:"https://github.com/firezone/firezone/tree/master/www/docs/reference/rest-api/devices.mdx",tags:[],version:"current",frontMatter:{title:"Devices",group:"Devices"},sidebar:"tutorialSidebar",previous:{title:"Configurations",permalink:"/reference/rest-api/configurations"},next:{title:"Rules",permalink:"/reference/rest-api/rules"}},d={},u=[{value:"API Documentation",id:"api-documentation",level:2},{value:"GET /v0/devices",id:"get-v0devices",level:3},{value:"Example",id:"example",level:4},{value:"POST /v0/devices",id:"post-v0devices",level:3},{value:"Example",id:"example-1",level:4},{value:"GET /v0/devices/{id}",id:"get-v0devicesid",level:3},{value:"Example",id:"example-2",level:4},{value:"PATCH /v0/devices/{id}",id:"patch-v0devicesid",level:3},{value:"Example",id:"example-3",level:4},{value:"DELETE /v0/devices/{id}",id:"delete-v0devicesid",level:3},{value:"Example",id:"example-4",level:4}],p={toc:u},o="wrapper";function c(e){let{components:n,...t}=e;return(0,i.kt)(o,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This endpoint allows an administrator to manage Devices."),(0,i.kt)("h2",{id:"api-documentation"},"API Documentation"),(0,i.kt)("h3",{id:"get-v0devices"},"GET /v0/devices"),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": [\n    {\n      "allowed_ips": "0.0.0.0/0,::/0",\n      "description": "factory description",\n      "dns": "1.1.1.1,1.0.0.1",\n      "endpoint": "localhost:51820",\n      "id": "9fc9b189-b740-4676-a7c2-c135b97d951d",\n      "inserted_at": "2023-01-13T06:30:47.092141Z",\n      "ipv4": "100.99.95.137",\n      "ipv6": "fd00::2a:3f6d",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 3175",\n      "persistent_keepalive": 25,\n      "preshared_key": "Fj2iQKy5R5lLi8GIMI96FIfgWs/8saEYj4q6mLtgpg8=",\n      "public_key": "cVAdAno+PbyPBg5ubwxPe86QahSZ3AwhsKHfkFNw0nc=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-01-13T06:30:47.092141Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "4b195eb9-d675-4143-8de0-64e68c5a6d86"\n    },\n    {\n      "allowed_ips": "0.0.0.0/0,::/0",\n      "description": "factory description",\n      "dns": "1.1.1.1,1.0.0.1",\n      "endpoint": "localhost:51820",\n      "id": "85243eb4-8c30-4bce-bb40-b4b9650e7ffa",\n      "inserted_at": "2023-01-13T06:30:47.101527Z",\n      "ipv4": "100.106.156.151",\n      "ipv6": "fd00::3e:876d",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 2820",\n      "persistent_keepalive": 25,\n      "preshared_key": "NXiX1/xSyDfEl+S3O7VaaVTJKUu2kZo91pCycuZG3mk=",\n      "public_key": "e8e8+NBCAyHPycu2VJIRK9NQCR5Bz5Oo6aFbuOmUMhc=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-01-13T06:30:47.101527Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "1949803a-bb74-429c-ac99-fae4ce09ca08"\n    },\n    {\n      "allowed_ips": "0.0.0.0/0,::/0",\n      "description": "factory description",\n      "dns": "1.1.1.1,1.0.0.1",\n      "endpoint": "localhost:51820",\n      "id": "7898b569-7c59-4596-b002-e1717c6fe5df",\n      "inserted_at": "2023-01-13T06:30:47.108829Z",\n      "ipv4": "100.120.62.86",\n      "ipv6": "fd00::38:7ee5",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 2978",\n      "persistent_keepalive": 25,\n      "preshared_key": "i6kyqjysbWGEWMO9FNUDMxE1OhrYJsgjuIfgnJNApyE=",\n      "public_key": "ulryM87WfDob8foWZtIiaW+cH+ugh4t/31vSO2YNRtA=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-01-13T06:30:47.108829Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "a1ebe3b2-3843-47ee-baf4-077740bfcd35"\n    },\n    {\n      "allowed_ips": "0.0.0.0/0,::/0",\n      "description": "factory description",\n      "dns": "1.1.1.1,1.0.0.1",\n      "endpoint": "localhost:51820",\n      "id": "3113df9e-29a4-4062-8a7d-7bf67612c61c",\n      "inserted_at": "2023-01-13T06:30:47.115812Z",\n      "ipv4": "100.64.196.12",\n      "ipv6": "fd00::1e:b441",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 1577",\n      "persistent_keepalive": 25,\n      "preshared_key": "oZsi27RP/myoPFDTdxv29KVAxb2D1PTN+ojhUHsuM9I=",\n      "public_key": "ZZrmY3JKOLJc9JZO+JTBJ9toM+x3hZBikcEAAxhdnWY=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-01-13T06:30:47.115812Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "634c7a8b-95c3-4c2f-9566-78be4d768cde"\n    },\n    {\n      "allowed_ips": "0.0.0.0/0,::/0",\n      "description": "factory description",\n      "dns": "1.1.1.1,1.0.0.1",\n      "endpoint": "localhost:51820",\n      "id": "44c8dd33-ad63-47cf-93ae-ff5ffcb16f52",\n      "inserted_at": "2023-01-13T06:30:47.123039Z",\n      "ipv4": "100.93.227.124",\n      "ipv6": "fd00::3:b1dd",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 1673",\n      "persistent_keepalive": 25,\n      "preshared_key": "G0XAE7HCOArcB+RH09g/HIsDJM3SfYk9WKa1WYo6hv4=",\n      "public_key": "RBr9GYzFGuoltoIt2iTeqSb0CHaiPAcwxxxxSYlX4tg=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-01-13T06:30:47.123039Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "b61a4d7a-34a6-4d37-9871-a024fb97fe60"\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"post-v0devices"},"POST /v0/devices"),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X POST "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",\n    "description": "create-description",\n    "dns": "9.9.9.8",\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "57afecab-c92c-45b8-8764-017a7cb5276b"\n  }\n}\'\nEOF\n\nHTTP/1.1 201\nContent-Type: application/json; charset=utf-8\nLocation: /v0/devices/0f71030e-b872-494f-af2b-c31730f119e0\n\n{\n  "data": {\n    "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",\n    "description": "create-description",\n    "dns": "9.9.9.8",\n    "endpoint": "9.9.9.9",\n    "id": "0f71030e-b872-494f-af2b-c31730f119e0",\n    "inserted_at": "2023-01-13T06:30:47.204640Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-01-13T06:30:47.204640Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "57afecab-c92c-45b8-8764-017a7cb5276b"\n  }\n}\n')),(0,i.kt)("h3",{id:"get-v0devicesid"},"GET /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-2"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"904fbe05-86a5-4edb-afb2-6b728755a210"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": "0.0.0.0/0,::/0",\n    "description": "factory description",\n    "dns": "1.1.1.1,1.0.0.1",\n    "endpoint": "localhost:51820",\n    "id": "904fbe05-86a5-4edb-afb2-6b728755a210",\n    "inserted_at": "2023-01-13T06:30:47.048145Z",\n    "ipv4": "100.74.213.26",\n    "ipv6": "fd00::5:110a",\n    "latest_handshake": null,\n    "mtu": 1280,\n    "name": "factory 2403",\n    "persistent_keepalive": 25,\n    "preshared_key": "fue0i7cIahPPlWr6UCSerJNu3NRDrETv3YW+Xjc3qU4=",\n    "public_key": "6KYOCkP8off66kidQOXpwQlwKix8ELfXm/kR5cwsnug=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-01-13T06:30:47.048145Z",\n    "use_default_allowed_ips": true,\n    "use_default_dns": true,\n    "use_default_endpoint": true,\n    "use_default_mtu": true,\n    "use_default_persistent_keepalive": true,\n    "user_id": "bc22e5c4-853c-4e0d-bf93-85111707e66f"\n  }\n}\n')),(0,i.kt)("h3",{id:"patch-v0devicesid"},"PATCH /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-3"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"ef1da923-caf4-47f3-ab6a-7ab0908d7f0e"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X PUT "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",\n    "description": "create-description",\n    "dns": "9.9.9.8",\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false\n  }\n}\'\nEOF\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",\n    "description": "create-description",\n    "dns": "9.9.9.8",\n    "endpoint": "9.9.9.9",\n    "id": "ef1da923-caf4-47f3-ab6a-7ab0908d7f0e",\n    "inserted_at": "2023-01-13T06:30:47.264719Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-01-13T06:30:47.279141Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "ae05e328-3a67-4101-9d6b-48dcd9cdddf8"\n  }\n}\n')),(0,i.kt)("h3",{id:"delete-v0devicesid"},"DELETE /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-4"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"5b8cf677-ae60-4eca-b038-9abcd410904f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl -i \\\n  -X DELETE \"https://{firezone_host}/v0/devices/{id}\" \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer {api_token}' \\\n\nHTTP/1.1 204\n")))}c.isMDXComponent=!0}}]);