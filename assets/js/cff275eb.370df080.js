"use strict";(self.webpackChunknew_docs=self.webpackChunknew_docs||[]).push([[6210],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),f=i,m=d["".concat(s,".").concat(f)]||d[f]||p[f]||o;return r?n.createElement(m,a(a({ref:t},c),{},{components:r})):n.createElement(m,a({ref:t},c))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var u=2;u<o;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7548:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var n=r(7462),i=(r(7294),r(3905));const o={title:"Prerequisites",sidebar_position:2},a=void 0,l={unversionedId:"deploy/prerequisites",id:"deploy/prerequisites",title:"Prerequisites",description:"Firezone requires the setup of a DNS record and matching SSL certificate for",source:"@site/docs/deploy/prerequisites.md",sourceDirName:"deploy",slug:"/deploy/prerequisites",permalink:"/deploy/prerequisites",draft:!1,editUrl:"https://github.com/firezone/firezone/tree/master/docs/deploy/prerequisites.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Prerequisites",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Supported Platforms",permalink:"/deploy/supported-platforms"},next:{title:"Install Server",permalink:"/deploy/install-server"}},s={},u=[{value:"Create a DNS record",id:"create-a-dns-record",level:2},{value:"Create an SSL certificate",id:"create-an-ssl-certificate",level:2},{value:"Security Group and Firewall Settings",id:"security-group-and-firewall-settings",level:2},{value:"Resource Requirements",id:"resource-requirements",level:2}],c={toc:u};function p(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Firezone requires the setup of a DNS record and matching SSL certificate for\nproduction deployments."),(0,i.kt)("h2",{id:"create-a-dns-record"},"Create a DNS record"),(0,i.kt)("p",null,"Firezone requires a fully-qualified domain name (e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"firezone.company.com"),")\nfor production use. You'll need to create the appropriate DNS record at your\nregistrar to achieve this. Typically this is either an A, CNAME, or AAAA record\ndepending on your requirements."),(0,i.kt)("h2",{id:"create-an-ssl-certificate"},"Create an SSL certificate"),(0,i.kt)("p",null,"While Firezone generates a self-signed SSL certificate for you on install,\nyou'll need a valid SSL certificate to use Firezone in a production capacity."),(0,i.kt)("p",null,"We recommend using ",(0,i.kt)("a",{parentName:"p",href:"https://letsencrypt.org"},"Let's Encrypt")," to\ngenerate a free SSL cert for your domain.\nStarting with Firezone 0.5.0 you have the option to auto-provision Let's\nEncrypt SSL certificates for your instance using the ACME protocol. This is\ndisabled by default to maintain backwards compatibility for existing\ninstallations."),(0,i.kt)("p",null,"To enable this, you must ensure the following conditions are met:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"80/tcp")," is allow inbound"),(0,i.kt)("li",{parentName:"ul"},"The bundled Firezone ",(0,i.kt)("inlineCode",{parentName:"li"},"nginx")," service is enabled and functioning"),(0,i.kt)("li",{parentName:"ul"},"You have a valid DNS record assigned to this instance's public IP"),(0,i.kt)("li",{parentName:"ul"},"The following 3 settings are configure in the ",(0,i.kt)("a",{parentName:"li",href:"../reference/configuration-file"},"configuration file"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"default['firezone']['external_url']"),": The FQDN for the server."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"default['firezone']['ssl']['email_address']"),": The email that will be used\nfor the issued certificates."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"default['firezone']['ssl']['acme']['enabled']"),": Set this to true to enable it.")))),(0,i.kt)("h2",{id:"security-group-and-firewall-settings"},"Security Group and Firewall Settings"),(0,i.kt)("p",null,"By default, Firezone requires ports ",(0,i.kt)("inlineCode",{parentName:"p"},"443/tcp")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"51820/udp")," to be\naccessible for HTTPS and WireGuard traffic respectively.\nThese ports can change based on what you've configured in the configuration file.\nSee the\n",(0,i.kt)("a",{parentName:"p",href:"../reference/configuration-file"},"configuration file reference"),"\nfor details."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Firezone modifies the kernel netfilter and routing tables. Other\nprograms that modify the Linux routing table or firewall may interfere with\nFirezone's operation. For help troubleshooting connectivity issues, see\n",(0,i.kt)("a",{parentName:"p",href:"../administer/troubleshoot"},"troubleshoot"),".")),(0,i.kt)("h2",{id:"resource-requirements"},"Resource Requirements"),(0,i.kt)("p",null,"We recommend ",(0,i.kt)("strong",{parentName:"p"},"starting with 1 vCPU and 1 GB of RAM and scaling up")," as the\nnumber of users and devices grows."),(0,i.kt)("p",null,"For Omnibus-based deployments on servers with less than 1GB of memory, we\nrecommend turning on swap to prevent the Linux kernel from killing\nFirezone processes unexpectedly. When this happens, it's often difficult to\ndebug and results in strange, unpredictable failure modes."),(0,i.kt)("p",null,"For the VPN tunnels themselves, Firezone uses in-kernel WireGuard, so its\nperformance should be very good. 1 vCPU should be more than enough to saturate\na 1 Gbps network link."))}p.isMDXComponent=!0}}]);