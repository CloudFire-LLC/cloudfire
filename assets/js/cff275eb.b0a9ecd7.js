"use strict";(self.webpackChunknew_docs=self.webpackChunknew_docs||[]).push([[6210],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return f}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),f=i,m=d["".concat(s,".").concat(f)]||d[f]||p[f]||a;return r?n.createElement(m,o(o({ref:t},c),{},{components:r})):n.createElement(m,o({ref:t},c))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<a;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7548:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var n=r(7462),i=r(3366),a=(r(7294),r(3905)),o=["components"],l={title:"Prerequisites",sidebar_position:2},s=void 0,u={unversionedId:"deploy/prerequisites",id:"deploy/prerequisites",title:"Prerequisites",description:"Firezone requires the setup of a DNS record and matching SSL certificate for",source:"@site/docs/deploy/prerequisites.md",sourceDirName:"deploy",slug:"/deploy/prerequisites",permalink:"/deploy/prerequisites",draft:!1,editUrl:"https://github.com/firezone/firezone/docs/deploy/prerequisites.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Prerequisites",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Supported Platforms",permalink:"/deploy/supported-platforms"},next:{title:"Install Server",permalink:"/deploy/install-server"}},c={},p=[{value:"Create a DNS record",id:"create-a-dns-record",level:2},{value:"Create an SSL certificate",id:"create-an-ssl-certificate",level:2},{value:"Security Group and Firewall Settings",id:"security-group-and-firewall-settings",level:2},{value:"Resource Requirements",id:"resource-requirements",level:2}],d={toc:p};function f(e){var t=e.components,r=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Firezone requires the setup of a DNS record and matching SSL certificate for\nproduction deployments."),(0,a.kt)("h2",{id:"create-a-dns-record"},"Create a DNS record"),(0,a.kt)("p",null,"Firezone requires a fully-qualified domain name (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"firezone.company.com"),")\nfor production use. You'll need to create the appropriate DNS record at your\nregistrar to achieve this. Typically this is either an A, CNAME, or AAAA record\ndepending on your requirements."),(0,a.kt)("h2",{id:"create-an-ssl-certificate"},"Create an SSL certificate"),(0,a.kt)("p",null,"While Firezone generates a self-signed SSL certificate for you on install,\nyou'll need a valid SSL certificate to use Firezone in a production capacity."),(0,a.kt)("p",null,"We recommend using ",(0,a.kt)("a",{parentName:"p",href:"https://letsencrypt.org"},"Let's Encrypt")," to\ngenerate a free SSL cert for your domain.\nStarting with Firezone 0.5.0 you have the option to auto-provision Let's\nEncrypt SSL certificates for your instance using the ACME protocol. This is\ndisabled by default to maintain backwards compatibility for existing\ninstallations."),(0,a.kt)("p",null,"To enable this, you must ensure the following conditions are met:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"80/tcp")," is allow inbound"),(0,a.kt)("li",{parentName:"ul"},"The bundled Firezone ",(0,a.kt)("inlineCode",{parentName:"li"},"nginx")," service is enabled and functioning"),(0,a.kt)("li",{parentName:"ul"},"You have a valid DNS record assigned to this instance's public IP"),(0,a.kt)("li",{parentName:"ul"},"The following 3 settings are configure in the ",(0,a.kt)("a",{parentName:"li",href:"/reference/configuration-file"},"configuration file"),":",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"default['firezone']['external_url']"),": The FQDN for the server."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"default['firezone']['ssl']['email_address']"),": The email that will be used\nfor the issued certificates."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"default['firezone']['ssl']['acme']['enabled']"),": Set this to true to enable it.")))),(0,a.kt)("h2",{id:"security-group-and-firewall-settings"},"Security Group and Firewall Settings"),(0,a.kt)("p",null,"By default, Firezone requires ports ",(0,a.kt)("inlineCode",{parentName:"p"},"443/tcp")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"51820/udp")," to be\naccessible for HTTPS and WireGuard traffic respectively.\nThese ports can change based on what you've configured in the configuration file.\nSee the\n",(0,a.kt)("a",{parentName:"p",href:"../reference/configuration-file"},"configuration file reference"),"\nfor details."),(0,a.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Firezone modifies the kernel netfilter and routing tables. Other\nprograms that modify the Linux routing table or firewall may interfere with\nFirezone's operation. For help troubleshooting connectivity issues, see\n",(0,a.kt)("a",{parentName:"p",href:"../administer/troubleshoot"},"troubleshoot"),"."))),(0,a.kt)("h2",{id:"resource-requirements"},"Resource Requirements"),(0,a.kt)("p",null,"We recommend ",(0,a.kt)("strong",{parentName:"p"},"starting with 1 vCPU and 1 GB of RAM and scaling up")," as the\nnumber of users and bandwidth requirements grow."),(0,a.kt)("p",null,"Firezone uses in-kernel WireGuard, so its performance should be very good.\nIn general, more CPU cores translate to higher bandwidth capacity per tunnel\nwhile more RAM will help with higher counts of users and tunnels."))}f.isMDXComponent=!0}}]);