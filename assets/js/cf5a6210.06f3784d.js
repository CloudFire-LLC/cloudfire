"use strict";(self.webpackChunkfirezone_docs=self.webpackChunkfirezone_docs||[]).push([[3840],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),p=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=p(e.components);return a.createElement(d.Provider,{value:n},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},_=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,d=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),o=p(t),_=i,f=o["".concat(d,".").concat(_)]||o[_]||c[_]||l;return t?a.createElement(f,r(r({ref:n},u),{},{components:t})):a.createElement(f,r({ref:n},u))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,r=new Array(l);r[0]=_;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s[o]="string"==typeof e?e:i,r[1]=s;for(var p=2;p<l;p++)r[p]=t[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}_.displayName="MDXCreateElement"},2725:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var a=t(7462),i=(t(7294),t(3905));const l={title:"Devices",group:"Devices"},r=void 0,s={unversionedId:"reference/rest-api/devices",id:"reference/rest-api/devices",title:"Devices",description:"This endpoint allows an administrator to manage Devices.",source:"@site/docs/reference/rest-api/devices.mdx",sourceDirName:"reference/rest-api",slug:"/reference/rest-api/devices",permalink:"/docs/reference/rest-api/devices",draft:!1,editUrl:"https://github.com/firezone/firezone/tree/master/www/docs/docs/reference/rest-api/devices.mdx",tags:[],version:"current",frontMatter:{title:"Devices",group:"Devices"},sidebar:"tutorialSidebar",previous:{title:"Configurations",permalink:"/docs/reference/rest-api/configurations"},next:{title:"Rules",permalink:"/docs/reference/rest-api/rules"}},d={},p=[{value:"API Documentation",id:"api-documentation",level:2},{value:"GET /v0/devices",id:"get-v0devices",level:3},{value:"Example",id:"example",level:4},{value:"POST /v0/devices",id:"post-v0devices",level:3},{value:"Example",id:"example-1",level:4},{value:"GET /v0/devices/{id}",id:"get-v0devicesid",level:3},{value:"Example",id:"example-2",level:4},{value:"PATCH /v0/devices/{id}",id:"patch-v0devicesid",level:3},{value:"Example",id:"example-3",level:4},{value:"DELETE /v0/devices/{id}",id:"delete-v0devicesid",level:3},{value:"Example",id:"example-4",level:4}],u={toc:p},o="wrapper";function c(e){let{components:n,...t}=e;return(0,i.kt)(o,(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This endpoint allows an administrator to manage Devices."),(0,i.kt)("h2",{id:"api-documentation"},"API Documentation"),(0,i.kt)("h3",{id:"get-v0devices"},"GET /v0/devices"),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": [\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "2b6c28a8-ca1b-4ecc-8133-b3d6619d47af",\n      "inserted_at": "2023-02-21T19:42:16.612776Z",\n      "ipv4": "100.93.194.179",\n      "ipv6": "fd00::22:71ab",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 4135",\n      "persistent_keepalive": 25,\n      "preshared_key": "r8nGfWLQWzp2AyCKMfVfrU9AzNtCbcExQt/Xv15UnPA=",\n      "public_key": "qNBDIg99AQV5Zr3I3gOtCjBpf+8y5g1wft8r55ZPCSg=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-02-21T19:42:16.612776Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "7c69c4a8-e335-40e0-b946-088a793873a9"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "c570ecf3-bf90-449e-9396-e11f3f5e1c3c",\n      "inserted_at": "2023-02-21T19:42:16.619638Z",\n      "ipv4": "100.66.157.239",\n      "ipv6": "fd00::1a:8b94",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 3428",\n      "persistent_keepalive": 25,\n      "preshared_key": "iPVrNTAmZIaptYD9kqgDSy3etX02PrKP2xDEwaU0CTk=",\n      "public_key": "5XHK3GYXPD5/rqND52mgYL9VjY64M1O/0xtl3w21p+E=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-02-21T19:42:16.619638Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "3c5c32d8-913c-44ca-9211-9c401dffc0ee"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "d07e42e0-205c-495b-bee7-bbd29a7cb22c",\n      "inserted_at": "2023-02-21T19:42:16.625365Z",\n      "ipv4": "100.98.252.135",\n      "ipv6": "fd00::33:7a15",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 5186",\n      "persistent_keepalive": 25,\n      "preshared_key": "PwcToalzmZ+aDXT7HDDOC+YsK+HzSdw8pX/e9FtdUQ4=",\n      "public_key": "LrWe6VAmNrI4lU2GtlS8W//U3lEu5LmnpXzEAPgu2K0=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-02-21T19:42:16.625365Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "0e67b63f-0c4d-499f-9c82-aeb8e15d46c1"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "73e897da-7e96-4839-a1b3-3c22b517cd87",\n      "inserted_at": "2023-02-21T19:42:16.630393Z",\n      "ipv4": "100.127.77.200",\n      "ipv6": "fd00::13:a5da",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 5250",\n      "persistent_keepalive": 25,\n      "preshared_key": "p0ZePh6jGs2cnxhampSudq/qyWDTqZUvAmuDuQzIhg8=",\n      "public_key": "Xi4k6cp5bWF3it3sHKlu7/Pc4PQ/0CNhFDC/4e1QJ8c=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-02-21T19:42:16.630393Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "219cc61b-a9fc-40f6-960c-9dc49b6a9285"\n    },\n    {\n      "allowed_ips": [\n        "0.0.0.0/0",\n        "::/0"\n      ],\n      "description": "factory description",\n      "dns": [\n        "1.1.1.1",\n        "1.0.0.1"\n      ],\n      "endpoint": "localhost:51820",\n      "id": "0264a1e7-d856-427a-bdab-56b27dad953e",\n      "inserted_at": "2023-02-21T19:42:16.635042Z",\n      "ipv4": "100.82.95.202",\n      "ipv6": "fd00::8:ee28",\n      "latest_handshake": null,\n      "mtu": 1280,\n      "name": "factory 3493",\n      "persistent_keepalive": 25,\n      "preshared_key": "LG/iIPIUfoGcXSCSYuw+DGJVYJkdwjNtqZCzvIgGsWw=",\n      "public_key": "Ypxx0s+69Zrcrm9V+EpXDSOnZ2vhYfeVaKL6ayZ+xWA=",\n      "remote_ip": null,\n      "rx_bytes": null,\n      "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n      "tx_bytes": null,\n      "updated_at": "2023-02-21T19:42:16.635042Z",\n      "use_default_allowed_ips": true,\n      "use_default_dns": true,\n      "use_default_endpoint": true,\n      "use_default_mtu": true,\n      "use_default_persistent_keepalive": true,\n      "user_id": "f60df8f7-9274-49a4-a5d3-9c772b7e81bb"\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"post-v0devices"},"POST /v0/devices"),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X POST "https://{firezone_host}/v0/devices" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "037f7617-93f1-4f7b-b8d5-db0512a7de10"\n  }\n}\'\nEOF\n\nHTTP/1.1 201\nContent-Type: application/json; charset=utf-8\nLocation: /v0/devices/fe5e53fd-faac-4436-9e6e-76c00d2e7f47\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "id": "fe5e53fd-faac-4436-9e6e-76c00d2e7f47",\n    "inserted_at": "2023-02-21T19:42:16.821122Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-02-21T19:42:16.821122Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "037f7617-93f1-4f7b-b8d5-db0512a7de10"\n  }\n}\n')),(0,i.kt)("h3",{id:"get-v0devicesid"},"GET /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-2"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"a8ede14d-7ffd-42b1-a0c4-28d4aa5d0749"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X GET "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0"\n    ],\n    "description": "factory description",\n    "dns": [\n      "1.1.1.1",\n      "1.0.0.1"\n    ],\n    "endpoint": "localhost:51820",\n    "id": "a8ede14d-7ffd-42b1-a0c4-28d4aa5d0749",\n    "inserted_at": "2023-02-21T19:42:16.861814Z",\n    "ipv4": "100.67.104.45",\n    "ipv6": "fd00::30:dad3",\n    "latest_handshake": null,\n    "mtu": 1280,\n    "name": "factory 4581",\n    "persistent_keepalive": 25,\n    "preshared_key": "G1UmGBirIP2XiBOVb0OcKnLjvhNQrUXq5WcwpYozzsc=",\n    "public_key": "dDRr56ECg6sLBKT4+wDVkkL6JhzcmI+jOfgbp1NBydY=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-02-21T19:42:16.861814Z",\n    "use_default_allowed_ips": true,\n    "use_default_dns": true,\n    "use_default_endpoint": true,\n    "use_default_mtu": true,\n    "use_default_persistent_keepalive": true,\n    "user_id": "a7182e3d-be17-4833-9669-c0efe861541a"\n  }\n}\n')),(0,i.kt)("h3",{id:"patch-v0devicesid"},"PATCH /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-3"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"d87aae90-e4b2-4e2b-92c2-728f02053745"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -i \\\n  -X PUT "https://{firezone_host}/v0/devices/{id}" \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {api_token}\' \\\n  --data-binary @- << EOF\n{\n  "device": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false\n  }\n}\'\nEOF\n\nHTTP/1.1 200\nContent-Type: application/json; charset=utf-8\n\n{\n  "data": {\n    "allowed_ips": [\n      "0.0.0.0/0",\n      "::/0",\n      "1.1.1.1"\n    ],\n    "description": "create-description",\n    "dns": [\n      "9.9.9.8"\n    ],\n    "endpoint": "9.9.9.9",\n    "id": "d87aae90-e4b2-4e2b-92c2-728f02053745",\n    "inserted_at": "2023-02-21T19:42:16.734558Z",\n    "ipv4": "100.64.0.2",\n    "ipv6": "fd00::2",\n    "latest_handshake": null,\n    "mtu": 999,\n    "name": "create-name",\n    "persistent_keepalive": 9,\n    "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",\n    "remote_ip": null,\n    "rx_bytes": null,\n    "server_public_key": "is+0ov0/SZ9I+qyDD+adVoH9LreWHa85QQgpt6RUtA4=",\n    "tx_bytes": null,\n    "updated_at": "2023-02-21T19:42:16.744067Z",\n    "use_default_allowed_ips": false,\n    "use_default_dns": false,\n    "use_default_endpoint": false,\n    "use_default_mtu": false,\n    "use_default_persistent_keepalive": false,\n    "user_id": "e3199f2c-8bf1-4371-8217-b7277bfedae6"\n  }\n}\n')),(0,i.kt)("h3",{id:"delete-v0devicesid"},"DELETE /v0/devices/{id}"),(0,i.kt)("h4",{id:"example-4"},"Example"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"URI Parameters:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"8a7e0c57-7e12-433c-8a6c-151359c5b3e3"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl -i \\\n  -X DELETE \"https://{firezone_host}/v0/devices/{id}\" \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer {api_token}' \\\n\nHTTP/1.1 204\n")))}c.isMDXComponent=!0}}]);