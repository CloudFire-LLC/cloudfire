# Firezone API
This is Firezone documentation.

# API Documentation


## Configuration [/v0/configuration]
### show [GET /v0/configuration]


+ Request GET /v0/configuration
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allow_unprivileged_device_configuration": true,
                "allow_unprivileged_device_management": true,
                "default_client_allowed_ips": "0.0.0.0/0,::/0",
                "default_client_dns": "1.1.1.1,1.0.0.1",
                "default_client_endpoint": "localhost:51820",
                "default_client_mtu": 1280,
                "default_client_persistent_keepalive": 25,
                "disable_vpn_on_oidc_error": false,
                "id": "f23dc476-d737-4497-b97c-9ecefb1944c6",
                "inserted_at": "2023-01-11T19:25:35.350867Z",
                "local_auth_enabled": true,
                "logo": null,
                "openid_connect_providers": [],
                "saml_identity_providers": [],
                "updated_at": "2023-01-11T19:25:35.350867Z",
                "vpn_session_duration": 0
              }
            }
### update [PUT /v0/configuration]


+ Request PUT /v0/configuration
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "configuration": {
                "allow_unprivileged_device_configuration": false,
                "allow_unprivileged_device_management": false,
                "default_client_allowed_ips": "1.1.1.1,2.2.2.2",
                "default_client_dns": "1.1.1.1",
                "default_client_endpoint": "new-endpoint",
                "default_client_mtu": 1100,
                "default_client_persistent_keepalive": 1,
                "disable_vpn_on_oidc_error": true,
                "local_auth_enabled": false,
                "openid_connect_providers": [
                  {
                    "auto_create_users": false,
                    "client_id": "test-id",
                    "client_secret": "test-secret",
                    "discovery_document_uri": "https://accounts.google.com/.well-known/openid-configuration",
                    "id": "google",
                    "label": "google",
                    "redirect_uri": "https://invalid",
                    "response_type": "response-type",
                    "scope": "test-scope"
                  }
                ],
                "saml_identity_providers": [
                  {
                    "auto_create_users": false,
                    "base_url": "https://saml",
                    "id": "okta",
                    "label": "okta",
                    "metadata": "<?xml version=\"1.0\"?>\n<md:EntityDescriptor xmlns=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" entityID=\"http://localhost:8080/realms/firezone\">\n  <md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\">\n    <md:KeyDescriptor use=\"signing\">\n      <ds:KeyInfo>\n        <ds:KeyName>pdSMtx2s3RVVhxg_qJOjHhlZhwZk6JiBMiSm5PEgjkA</ds:KeyName>\n        <ds:X509Data>\n          <ds:X509Certificate>MIICnzCCAYcCBgGD18ZU8TANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDDAhmaXJlem9uZTAeFw0yMjEwMTQxODMyMjJaFw0zMjEwMTQxODM0MDJaMBMxETAPBgNVBAMMCGZpcmV6b25lMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAur5Cb0jrDJbMwr96WWE+z9CjDg0A/uRkaB4loRqkmu3A2fQGsS6CP7F7lQWMJmpzvBgkNtB69toO2sgx1u1fhpIJBZ0uSHF5gnzQAivgVxInvkMKRTRSkpMbhObiDHZnEGI2+Ly+8iV8IvprdrbDgm52u4conam0H1PewUKkHulrVQ+ImFuEWAjKCRSqpUG2F1eRkA0YpqB09x0CZAOOoucwTsBYj/ZAz3dUXhYIENAF7v0ykvzGOCAyOZIn1uYQc7jvWpwoI8qQdL45phj2FLoFlght3tlZV8IG5hsXrE6rg7Ufqvv8xyGltrOMKj/jEFEunagZOUjkypDp36b8cwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBEZKLLr66GB3NxqXGTMl0PvTDNB9GdyShQHaJYjeeUQnEXixjlAVrOq/txEBKjhGUcqyFELoNuwcxxV1iHA5oXhCoqYmnp9T/ftmXPDT3c49PBABHgLJaFOKYTpVx1YjP7mA44X1ijLZmgboIeeFNerVNHIzR9BsxcloQlB0r9QfC14rsuXo6QD3QnaVI8wDgWXQHqpcwLFqvehXdNvMFniRvX2qBNU8E0FPoMaZ1C3n2nssLcVZ+C4ghq6YoAG+wLGY7XE8+v5rnYGDpGpfgr2wdefn6tryFq3PyGqA8ThjARESRRQG9kI/RlNX7qCnP/8/7JQ4wLdfz5C25uhakP</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:ArtifactResolutionService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml/resolve\" index=\"0\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n  </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n",
                    "sign_metadata": false,
                    "sign_requests": false,
                    "signed_assertion_in_resp": false,
                    "signed_envelopes_in_resp": false
                  }
                ],
                "vpn_session_duration": 100
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allow_unprivileged_device_configuration": false,
                "allow_unprivileged_device_management": false,
                "default_client_allowed_ips": "1.1.1.1,2.2.2.2",
                "default_client_dns": "1.1.1.1",
                "default_client_endpoint": "new-endpoint",
                "default_client_mtu": 1100,
                "default_client_persistent_keepalive": 1,
                "disable_vpn_on_oidc_error": true,
                "id": "f23dc476-d737-4497-b97c-9ecefb1944c6",
                "inserted_at": "2023-01-11T19:25:35.350867Z",
                "local_auth_enabled": false,
                "logo": null,
                "openid_connect_providers": [
                  {
                    "auto_create_users": false,
                    "client_id": "test-id",
                    "client_secret": "test-secret",
                    "discovery_document_uri": "https://accounts.google.com/.well-known/openid-configuration",
                    "id": "google",
                    "label": "google",
                    "redirect_uri": "https://invalid",
                    "response_type": "response-type",
                    "scope": "test-scope"
                  }
                ],
                "saml_identity_providers": [
                  {
                    "auto_create_users": false,
                    "base_url": "https://saml",
                    "id": "okta",
                    "label": "okta",
                    "metadata": "<?xml version=\"1.0\"?>\n<md:EntityDescriptor xmlns=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" entityID=\"http://localhost:8080/realms/firezone\">\n  <md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\">\n    <md:KeyDescriptor use=\"signing\">\n      <ds:KeyInfo>\n        <ds:KeyName>pdSMtx2s3RVVhxg_qJOjHhlZhwZk6JiBMiSm5PEgjkA</ds:KeyName>\n        <ds:X509Data>\n          <ds:X509Certificate>MIICnzCCAYcCBgGD18ZU8TANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDDAhmaXJlem9uZTAeFw0yMjEwMTQxODMyMjJaFw0zMjEwMTQxODM0MDJaMBMxETAPBgNVBAMMCGZpcmV6b25lMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAur5Cb0jrDJbMwr96WWE+z9CjDg0A/uRkaB4loRqkmu3A2fQGsS6CP7F7lQWMJmpzvBgkNtB69toO2sgx1u1fhpIJBZ0uSHF5gnzQAivgVxInvkMKRTRSkpMbhObiDHZnEGI2+Ly+8iV8IvprdrbDgm52u4conam0H1PewUKkHulrVQ+ImFuEWAjKCRSqpUG2F1eRkA0YpqB09x0CZAOOoucwTsBYj/ZAz3dUXhYIENAF7v0ykvzGOCAyOZIn1uYQc7jvWpwoI8qQdL45phj2FLoFlght3tlZV8IG5hsXrE6rg7Ufqvv8xyGltrOMKj/jEFEunagZOUjkypDp36b8cwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBEZKLLr66GB3NxqXGTMl0PvTDNB9GdyShQHaJYjeeUQnEXixjlAVrOq/txEBKjhGUcqyFELoNuwcxxV1iHA5oXhCoqYmnp9T/ftmXPDT3c49PBABHgLJaFOKYTpVx1YjP7mA44X1ijLZmgboIeeFNerVNHIzR9BsxcloQlB0r9QfC14rsuXo6QD3QnaVI8wDgWXQHqpcwLFqvehXdNvMFniRvX2qBNU8E0FPoMaZ1C3n2nssLcVZ+C4ghq6YoAG+wLGY7XE8+v5rnYGDpGpfgr2wdefn6tryFq3PyGqA8ThjARESRRQG9kI/RlNX7qCnP/8/7JQ4wLdfz5C25uhakP</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:ArtifactResolutionService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml/resolve\" index=\"0\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n  </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n",
                    "sign_metadata": false,
                    "sign_requests": false,
                    "signed_assertion_in_resp": false,
                    "signed_envelopes_in_resp": false
                  }
                ],
                "updated_at": "2023-01-12T00:26:29.559090Z",
                "vpn_session_duration": 100
              }
            }

## Devices [/v0/devices/e43891d7-fe0f-42c3-a498-07bd8906ec8f]

REST API Controller for Devices.

### show [GET /v0/devices/{id}]

+ Parameters
    + id: `e43891d7-fe0f-42c3-a498-07bd8906ec8f`


+ Request GET /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0,::/0",
                "description": "factory description",
                "dns": "1.1.1.1,1.0.0.1",
                "endpoint": "localhost:51820",
                "id": "e43891d7-fe0f-42c3-a498-07bd8906ec8f",
                "inserted_at": "2023-01-12T00:26:28.915725Z",
                "ipv4": "100.91.239.219",
                "ipv6": "fd00::1f:df9d",
                "latest_handshake": null,
                "mtu": 1280,
                "name": "factory 2434",
                "persistent_keepalive": 25,
                "preshared_key": "H8gGr+Cx+cExDqHDbX4ELNwB/iIAPavdF06dF36F5NI=",
                "public_key": "FUUmEcsA5MLO+L9uapmIejlDEr2okpHN60W+iTeXuAA=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:26:28.915725Z",
                "use_default_allowed_ips": true,
                "use_default_dns": true,
                "use_default_endpoint": true,
                "use_default_mtu": true,
                "use_default_persistent_keepalive": true,
                "user_id": "e5761b53-0752-44ee-83bb-75aed350d546"
              }
            }
### create [POST /v0/devices]


+ Request POST /v0/devices
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "device": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "138f8de9-feaa-4f5b-9bb0-39dcd8e2f00a"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/devices/2619d0e5-9c91-4fd5-a9b4-ffb911359033
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "id": "2619d0e5-9c91-4fd5-a9b4-ffb911359033",
                "inserted_at": "2023-01-12T00:26:28.752045Z",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "latest_handshake": null,
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:26:28.752045Z",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "138f8de9-feaa-4f5b-9bb0-39dcd8e2f00a"
              }
            }
### update [PUT /v0/devices/{id}]

+ Parameters
    + id: `ad8c4660-246f-439e-94ed-1775123a76eb`


+ Request PUT /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "device": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "id": "ad8c4660-246f-439e-94ed-1775123a76eb",
                "inserted_at": "2023-01-12T00:26:28.967117Z",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "latest_handshake": null,
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:26:28.982777Z",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "4095da17-06a5-4132-9a17-ea4d6baf9374"
              }
            }
### index [GET /v0/devices]


+ Request GET /v0/devices
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "9192e2b7-7278-4b39-8abd-587f620aa00c",
                  "inserted_at": "2023-01-12T00:26:28.812825Z",
                  "ipv4": "100.98.247.48",
                  "ipv6": "fd00::4:159f",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 744",
                  "persistent_keepalive": 25,
                  "preshared_key": "k9+eP/MYAReMN+aajmJ2kb4WoFG03n60C+Ce71LlFz4=",
                  "public_key": "3aJ8TzmiPO3aFqTycbIPBj7XJs4MdQZeSdGvr9f2Vzg=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:26:28.812825Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "b2d82f59-193d-4330-b8b9-76eb1de896e2"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "4743f5dc-fb3e-4031-9f05-f89af3343b8b",
                  "inserted_at": "2023-01-12T00:26:28.821182Z",
                  "ipv4": "100.116.233.135",
                  "ipv6": "fd00::7:ba62",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 840",
                  "persistent_keepalive": 25,
                  "preshared_key": "Hjf8K6P3stQTCuJuTd6JHNrnlQgKDc7givD+ywanD9E=",
                  "public_key": "Ukve3NX5pNd+g+BskhsaJjDaDu+8AH5fgZieW2pHppk=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:26:28.821182Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "042237f7-a162-4bd2-b922-4921d2b7006f"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "9d7b7a70-5173-4fdc-9674-ef4b57343866",
                  "inserted_at": "2023-01-12T00:26:28.829714Z",
                  "ipv4": "100.81.35.42",
                  "ipv6": "fd00::38:9b37",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 2018",
                  "persistent_keepalive": 25,
                  "preshared_key": "t2rwhJFXEsYCrjSbngHsWvfnV+3yY128Q5gzcdmC+Do=",
                  "public_key": "JEph3YlcKBJlGf6dcxsqQB+GRjzfen3dshGEdWDEoFA=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:26:28.829714Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "dd16767c-aded-4128-bfcd-ea19355156dc"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "0c6f2564-7fa4-4aac-ae24-a51b533e93fb",
                  "inserted_at": "2023-01-12T00:26:28.837385Z",
                  "ipv4": "100.90.198.88",
                  "ipv6": "fd00::36:201d",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 2403",
                  "persistent_keepalive": 25,
                  "preshared_key": "tYFRiue8+c1eCPMC84cNkjNtaHrNOATb3Mhbv0ArDnQ=",
                  "public_key": "xptMrmxIZiJNsUKRpIIzRRz/8EycOksJj4ihmJwC5bA=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:26:28.837385Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "c765617b-2ebc-4ecb-8904-f733de2e8863"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "5d120aee-3082-47de-82cb-9ca33b9a1cae",
                  "inserted_at": "2023-01-12T00:26:28.844879Z",
                  "ipv4": "100.78.165.174",
                  "ipv6": "fd00::3e:7217",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 2467",
                  "persistent_keepalive": 25,
                  "preshared_key": "82EaPtlC4jomhjtbNEbGYFAtB8gqZx/VRziuFJ0hTy4=",
                  "public_key": "bQ5o4mio8PvtgvnwGKtTRbdQ9nNbAMqrb97rLK4YlUk=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:26:28.844879Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "6f050eb0-eb4a-4fa3-a6eb-dd125a5b17ba"
                }
              ]
            }
### delete [DELETE /v0/devices/{id}]

+ Parameters
    + id: `33e3aa7a-a34c-45ff-847a-c069f9e1a924`


+ Request DELETE /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

## Rules [/v0/rules/a6aa60f4-08de-4db6-9363-1f3b7451e440]

REST API Controller for Rules.

### show [GET /v0/rules/{id}]

+ Parameters
    + id: `a6aa60f4-08de-4db6-9363-1f3b7451e440`


+ Request GET /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "action": "drop",
                "destination": "10.10.10.0/24",
                "id": "a6aa60f4-08de-4db6-9363-1f3b7451e440",
                "inserted_at": "2023-01-12T00:26:28.778421Z",
                "port_range": null,
                "port_type": null,
                "updated_at": "2023-01-12T00:26:28.778421Z",
                "user_id": null
              }
            }
### create [POST /v0/rules]


+ Request POST /v0/rules
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "rule": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "port_range": "1 - 2",
                "port_type": "udp",
                "user_id": "58553dcf-b9fc-4f4b-ab47-7820fc20a22e"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/rules/5618f70b-f578-4080-9d7b-e85bd0cd27db
    + Body
    
            {
              "data": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "id": "5618f70b-f578-4080-9d7b-e85bd0cd27db",
                "inserted_at": "2023-01-12T00:26:28.688993Z",
                "port_range": "1 - 2",
                "port_type": "udp",
                "updated_at": "2023-01-12T00:26:28.688993Z",
                "user_id": "58553dcf-b9fc-4f4b-ab47-7820fc20a22e"
              }
            }
### update [PUT /v0/rules/{id}]

+ Parameters
    + id: `9d414b9c-d54f-4aa4-96ce-37dad072d2fc`


+ Request PUT /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "rule": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "port_range": "1 - 2",
                "port_type": "udp"
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "id": "9d414b9c-d54f-4aa4-96ce-37dad072d2fc",
                "inserted_at": "2023-01-12T00:26:28.801888Z",
                "port_range": "1 - 2",
                "port_type": "udp",
                "updated_at": "2023-01-12T00:26:28.821498Z",
                "user_id": null
              }
            }
### index [GET /v0/rules]


+ Request GET /v0/rules
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "action": "drop",
                  "destination": "10.3.2.1",
                  "id": "9332b19e-0661-4011-8458-ca7638ddffe3",
                  "inserted_at": "2023-01-12T00:26:28.692624Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:26:28.692624Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.2",
                  "id": "40ef15a0-19d9-4202-8978-928ed066eff7",
                  "inserted_at": "2023-01-12T00:26:28.695861Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:26:28.695861Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.3",
                  "id": "bed0c1b7-18ad-4aa6-88d6-10ab47fb4fb7",
                  "inserted_at": "2023-01-12T00:26:28.696694Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:26:28.696694Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.4",
                  "id": "efc34927-ea93-4992-b6b6-5193afb3c0f6",
                  "inserted_at": "2023-01-12T00:26:28.697761Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:26:28.697761Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.5",
                  "id": "67d9db58-f38d-4168-aa77-569932f71f50",
                  "inserted_at": "2023-01-12T00:26:28.699060Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:26:28.699060Z",
                  "user_id": null
                }
              ]
            }
### delete [DELETE /v0/rules/{id}]

+ Parameters
    + id: `12cacd2a-28e1-4417-ae52-07f98a4c3984`


+ Request DELETE /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

## Users [/v0/users]

This endpoint allows you to provision Users.

*Auto-Create Users from OpenID or SAML providers*

You can set Configuration option `auto_create_users` to `true` to automatically create users
from OpenID or SAML providers. Use it with care as anyone with access to the provider will be
able to log-in to Firezone.

If `auto_create_users` is `false`, then you need to provision users with `password` attribute,
otherwise they will have no means to log in.

### index [GET /v0/users]


+ Request GET /v0/users
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "disabled_at": null,
                  "email": "test-2659@test",
                  "id": "e04bb3df-9e09-4c15-b1e2-11122a7176d6",
                  "inserted_at": "2023-01-12T00:26:28.865001Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:26:28.865001Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-743@test",
                  "id": "a4653371-f554-4e69-9816-3a3f4a256494",
                  "inserted_at": "2023-01-12T00:26:28.869238Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:26:28.869238Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-775@test",
                  "id": "0c57e83e-7ed0-4055-b88b-bc973407981f",
                  "inserted_at": "2023-01-12T00:26:28.871312Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:26:28.871312Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-2723@test",
                  "id": "4ddb6089-55e7-4d29-be1a-87d59fc70c9a",
                  "inserted_at": "2023-01-12T00:26:28.873236Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:26:28.873236Z"
                }
              ]
            }
### Create a User [POST /v0/users]

Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.



+ Request Provision an admin OpenID User
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "role": "admin"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/15ecf5f7-0a92-4b51-9072-58c487ee05f2
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "15ecf5f7-0a92-4b51-9072-58c487ee05f2",
                "inserted_at": "2023-01-12T00:26:28.994234Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:26:28.994234Z"
              }
            }


+ Request Provision an unprivileged OpenID User
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "role": "unprivileged"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/4eb38814-e02e-4d3c-ab5d-0594c6bb7d81
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "4eb38814-e02e-4d3c-ab5d-0594c6bb7d81",
                "inserted_at": "2023-01-12T00:26:28.730578Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:26:28.730578Z"
              }
            }


+ Request POST /v0/users
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "password": "test1234test",
                "password_confirmation": "test1234test",
                "role": "unprivileged"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/26ef81b5-266f-4a72-9bb2-c2219a1c25bb
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "26ef81b5-266f-4a72-9bb2-c2219a1c25bb",
                "inserted_at": "2023-01-12T00:26:28.916708Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:26:28.916708Z"
              }
            }


+ Request Error due to invalid parameters
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "test@test.com",
                "password": "test1234"
              }
            }

+ Response 422

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "errors": {
                "password": [
                  "should be at least 12 character(s)",
                  "does not match password confirmation."
                ]
              }
            }
### Update a User [PUT /v0/users/{id}]

Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.


+ Parameters
    + id: `58427c64-c83b-4c19-a71f-0d464f3cae52`


+ Request Update by ID
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {}
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-198@test",
                "id": "58427c64-c83b-4c19-a71f-0d464f3cae52",
                "inserted_at": "2023-01-12T00:26:28.963449Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:26:28.963449Z"
              }
            }


+ Request Update by email
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {}
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-1666@test",
                "id": "ef098a07-829c-405f-a2e4-2a106bbacd8c",
                "inserted_at": "2023-01-12T00:26:28.654749Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:26:28.654749Z"
              }
            }
### show [GET /v0/users/test-1762%40test]

+ Parameters
    + id: `test-1762@test`


+ Request GET /v0/users/{email}
An email can be used instead of ID.

    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-1762@test",
                "id": "5f24beed-1875-4599-8a6c-c3fc93af1b64",
                "inserted_at": "2023-01-12T00:26:28.681454Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:26:28.681454Z"
              }
            }


+ Request GET /v0/users/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-231@test",
                "id": "a8277d7f-9a52-4912-904e-fd4eb22c68ec",
                "inserted_at": "2023-01-12T00:26:28.637201Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:26:28.637201Z"
              }
            }
### delete [DELETE /v0/users/test-2851%40test]

+ Parameters
    + id: `test-2851@test`


+ Request DELETE /v0/users/{email}
An email can be used instead of ID.

    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            


+ Request DELETE /v0/users/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

