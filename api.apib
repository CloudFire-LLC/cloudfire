# Firezone API
This is Firezone documentation.

# Firezone API
This is Firezone documentation.




## Endpoints



## Configuration [/v0/configuration]
### show [GET /v0/configuration]


+ Request GET /v0/configuration
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allow_unprivileged_device_configuration": true,
                "allow_unprivileged_device_management": true,
                "default_client_allowed_ips": "0.0.0.0/0,::/0",
                "default_client_dns": "1.1.1.1,1.0.0.1",
                "default_client_endpoint": "localhost:51820",
                "default_client_mtu": 1280,
                "default_client_persistent_keepalive": 25,
                "disable_vpn_on_oidc_error": false,
                "id": "f23dc476-d737-4497-b97c-9ecefb1944c6",
                "inserted_at": "2023-01-11T19:25:35.350867Z",
                "local_auth_enabled": true,
                "logo": null,
                "openid_connect_providers": [],
                "saml_identity_providers": [],
                "updated_at": "2023-01-11T19:25:35.350867Z",
                "vpn_session_duration": 0
              }
            }
### update [PUT /v0/configuration]


+ Request PUT /v0/configuration
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "configuration": {
                "allow_unprivileged_device_configuration": false,
                "allow_unprivileged_device_management": false,
                "default_client_allowed_ips": "1.1.1.1,2.2.2.2",
                "default_client_dns": "1.1.1.1",
                "default_client_endpoint": "new-endpoint",
                "default_client_mtu": 1100,
                "default_client_persistent_keepalive": 1,
                "disable_vpn_on_oidc_error": true,
                "local_auth_enabled": false,
                "openid_connect_providers": [
                  {
                    "auto_create_users": false,
                    "client_id": "test-id",
                    "client_secret": "test-secret",
                    "discovery_document_uri": "https://accounts.google.com/.well-known/openid-configuration",
                    "id": "google",
                    "label": "google",
                    "redirect_uri": "https://invalid",
                    "response_type": "response-type",
                    "scope": "test-scope"
                  }
                ],
                "saml_identity_providers": [
                  {
                    "auto_create_users": false,
                    "base_url": "https://saml",
                    "id": "okta",
                    "label": "okta",
                    "metadata": "<?xml version=\"1.0\"?>\n<md:EntityDescriptor xmlns=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" entityID=\"http://localhost:8080/realms/firezone\">\n  <md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\">\n    <md:KeyDescriptor use=\"signing\">\n      <ds:KeyInfo>\n        <ds:KeyName>pdSMtx2s3RVVhxg_qJOjHhlZhwZk6JiBMiSm5PEgjkA</ds:KeyName>\n        <ds:X509Data>\n          <ds:X509Certificate>MIICnzCCAYcCBgGD18ZU8TANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDDAhmaXJlem9uZTAeFw0yMjEwMTQxODMyMjJaFw0zMjEwMTQxODM0MDJaMBMxETAPBgNVBAMMCGZpcmV6b25lMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAur5Cb0jrDJbMwr96WWE+z9CjDg0A/uRkaB4loRqkmu3A2fQGsS6CP7F7lQWMJmpzvBgkNtB69toO2sgx1u1fhpIJBZ0uSHF5gnzQAivgVxInvkMKRTRSkpMbhObiDHZnEGI2+Ly+8iV8IvprdrbDgm52u4conam0H1PewUKkHulrVQ+ImFuEWAjKCRSqpUG2F1eRkA0YpqB09x0CZAOOoucwTsBYj/ZAz3dUXhYIENAF7v0ykvzGOCAyOZIn1uYQc7jvWpwoI8qQdL45phj2FLoFlght3tlZV8IG5hsXrE6rg7Ufqvv8xyGltrOMKj/jEFEunagZOUjkypDp36b8cwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBEZKLLr66GB3NxqXGTMl0PvTDNB9GdyShQHaJYjeeUQnEXixjlAVrOq/txEBKjhGUcqyFELoNuwcxxV1iHA5oXhCoqYmnp9T/ftmXPDT3c49PBABHgLJaFOKYTpVx1YjP7mA44X1ijLZmgboIeeFNerVNHIzR9BsxcloQlB0r9QfC14rsuXo6QD3QnaVI8wDgWXQHqpcwLFqvehXdNvMFniRvX2qBNU8E0FPoMaZ1C3n2nssLcVZ+C4ghq6YoAG+wLGY7XE8+v5rnYGDpGpfgr2wdefn6tryFq3PyGqA8ThjARESRRQG9kI/RlNX7qCnP/8/7JQ4wLdfz5C25uhakP</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:ArtifactResolutionService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml/resolve\" index=\"0\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n  </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n",
                    "sign_metadata": false,
                    "sign_requests": false,
                    "signed_assertion_in_resp": false,
                    "signed_envelopes_in_resp": false
                  }
                ],
                "vpn_session_duration": 100
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allow_unprivileged_device_configuration": false,
                "allow_unprivileged_device_management": false,
                "default_client_allowed_ips": "1.1.1.1,2.2.2.2",
                "default_client_dns": "1.1.1.1",
                "default_client_endpoint": "new-endpoint",
                "default_client_mtu": 1100,
                "default_client_persistent_keepalive": 1,
                "disable_vpn_on_oidc_error": true,
                "id": "f23dc476-d737-4497-b97c-9ecefb1944c6",
                "inserted_at": "2023-01-11T19:25:35.350867Z",
                "local_auth_enabled": false,
                "logo": null,
                "openid_connect_providers": [
                  {
                    "auto_create_users": false,
                    "client_id": "test-id",
                    "client_secret": "test-secret",
                    "discovery_document_uri": "https://accounts.google.com/.well-known/openid-configuration",
                    "id": "google",
                    "label": "google",
                    "redirect_uri": "https://invalid",
                    "response_type": "response-type",
                    "scope": "test-scope"
                  }
                ],
                "saml_identity_providers": [
                  {
                    "auto_create_users": false,
                    "base_url": "https://saml",
                    "id": "okta",
                    "label": "okta",
                    "metadata": "<?xml version=\"1.0\"?>\n<md:EntityDescriptor xmlns=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" entityID=\"http://localhost:8080/realms/firezone\">\n  <md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\">\n    <md:KeyDescriptor use=\"signing\">\n      <ds:KeyInfo>\n        <ds:KeyName>pdSMtx2s3RVVhxg_qJOjHhlZhwZk6JiBMiSm5PEgjkA</ds:KeyName>\n        <ds:X509Data>\n          <ds:X509Certificate>MIICnzCCAYcCBgGD18ZU8TANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDDAhmaXJlem9uZTAeFw0yMjEwMTQxODMyMjJaFw0zMjEwMTQxODM0MDJaMBMxETAPBgNVBAMMCGZpcmV6b25lMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAur5Cb0jrDJbMwr96WWE+z9CjDg0A/uRkaB4loRqkmu3A2fQGsS6CP7F7lQWMJmpzvBgkNtB69toO2sgx1u1fhpIJBZ0uSHF5gnzQAivgVxInvkMKRTRSkpMbhObiDHZnEGI2+Ly+8iV8IvprdrbDgm52u4conam0H1PewUKkHulrVQ+ImFuEWAjKCRSqpUG2F1eRkA0YpqB09x0CZAOOoucwTsBYj/ZAz3dUXhYIENAF7v0ykvzGOCAyOZIn1uYQc7jvWpwoI8qQdL45phj2FLoFlght3tlZV8IG5hsXrE6rg7Ufqvv8xyGltrOMKj/jEFEunagZOUjkypDp36b8cwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBEZKLLr66GB3NxqXGTMl0PvTDNB9GdyShQHaJYjeeUQnEXixjlAVrOq/txEBKjhGUcqyFELoNuwcxxV1iHA5oXhCoqYmnp9T/ftmXPDT3c49PBABHgLJaFOKYTpVx1YjP7mA44X1ijLZmgboIeeFNerVNHIzR9BsxcloQlB0r9QfC14rsuXo6QD3QnaVI8wDgWXQHqpcwLFqvehXdNvMFniRvX2qBNU8E0FPoMaZ1C3n2nssLcVZ+C4ghq6YoAG+wLGY7XE8+v5rnYGDpGpfgr2wdefn6tryFq3PyGqA8ThjARESRRQG9kI/RlNX7qCnP/8/7JQ4wLdfz5C25uhakP</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:ArtifactResolutionService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml/resolve\" index=\"0\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:SOAP\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n    <md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\" Location=\"http://localhost:8080/realms/firezone/protocol/saml\"/>\n  </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n",
                    "sign_metadata": false,
                    "sign_requests": false,
                    "signed_assertion_in_resp": false,
                    "signed_envelopes_in_resp": false
                  }
                ],
                "updated_at": "2023-01-12T00:22:36.771535Z",
                "vpn_session_duration": 100
              }
            }

## Devices [/v0/devices/fd698a34-f78f-45d8-8758-624aee4f3013]

REST API Controller for Devices.

### show [GET /v0/devices/{id}]

+ Parameters
    + id: `fd698a34-f78f-45d8-8758-624aee4f3013`


+ Request GET /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0,::/0",
                "description": "factory description",
                "dns": "1.1.1.1,1.0.0.1",
                "endpoint": "localhost:51820",
                "id": "fd698a34-f78f-45d8-8758-624aee4f3013",
                "inserted_at": "2023-01-12T00:22:35.880390Z",
                "ipv4": "100.69.38.35",
                "ipv6": "fd00::14:56c7",
                "latest_handshake": null,
                "mtu": 1280,
                "name": "factory 1124",
                "persistent_keepalive": 25,
                "preshared_key": "KH5TvPXtsQpRZgEQ9lyNdOaDKCIIxjyRm+sMwTAFWlo=",
                "public_key": "eV70TShcvb7EfEiaoB3pBvF3u6YPgu86gqPfz3qKwiY=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:22:35.880390Z",
                "use_default_allowed_ips": true,
                "use_default_dns": true,
                "use_default_endpoint": true,
                "use_default_mtu": true,
                "use_default_persistent_keepalive": true,
                "user_id": "41cf981c-ed35-4cd6-b9cf-208ac0339ed6"
              }
            }
### create [POST /v0/devices]


+ Request POST /v0/devices
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "device": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "8aae006d-6e14-41a6-a9bf-a41e419c28d6"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/devices/ad05642c-088f-4051-bd58-4697dc958aa7
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "id": "ad05642c-088f-4051-bd58-4697dc958aa7",
                "inserted_at": "2023-01-12T00:22:36.184765Z",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "latest_handshake": null,
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:22:36.184765Z",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "8aae006d-6e14-41a6-a9bf-a41e419c28d6"
              }
            }
### update [PUT /v0/devices/{id}]

+ Parameters
    + id: `19498704-ffde-434f-8941-2569bf31f0bf`


+ Request PUT /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "device": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "allowed_ips": "0.0.0.0/0, ::/0, 1.1.1.1",
                "description": "create-description",
                "dns": "9.9.9.8",
                "endpoint": "9.9.9.9",
                "id": "19498704-ffde-434f-8941-2569bf31f0bf",
                "inserted_at": "2023-01-12T00:22:36.142277Z",
                "ipv4": "100.64.0.2",
                "ipv6": "fd00::2",
                "latest_handshake": null,
                "mtu": 999,
                "name": "create-name",
                "persistent_keepalive": 9,
                "preshared_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "public_key": "CHqFuS+iL3FTog5F4Ceumqlk0CU4Cl/dyUP/9F9NDnI=",
                "remote_ip": null,
                "rx_bytes": null,
                "server_public_key": null,
                "tx_bytes": null,
                "updated_at": "2023-01-12T00:22:36.158063Z",
                "use_default_allowed_ips": false,
                "use_default_dns": false,
                "use_default_endpoint": false,
                "use_default_mtu": false,
                "use_default_persistent_keepalive": false,
                "user_id": "b9bf6744-9a5c-4a6c-9dad-5718dbcf5a63"
              }
            }
### index [GET /v0/devices]


+ Request GET /v0/devices
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "b9d4e49e-8c67-44ed-b312-d1c996c662cf",
                  "inserted_at": "2023-01-12T00:22:35.923608Z",
                  "ipv4": "100.84.100.231",
                  "ipv6": "fd00::4:52c2",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 547",
                  "persistent_keepalive": 25,
                  "preshared_key": "b+YB6axYXbILu/aUgb2OiLw7h8Pe6W/mWIfTfEdV4Y4=",
                  "public_key": "wMvOAHMa5L7ZnikzMK36MtIC2cIpZENmdgOknzoC5Bs=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:22:35.923608Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "c97ad888-e073-4b55-924c-d58823a8bbd8"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "2fedb025-9471-4f3e-9b04-02e660c24138",
                  "inserted_at": "2023-01-12T00:22:35.932965Z",
                  "ipv4": "100.118.242.191",
                  "ipv6": "fd00::3f:cfb7",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 611",
                  "persistent_keepalive": 25,
                  "preshared_key": "nYX9k84Azg7uTHEYKR4ouooikN49JT3xEGa4nQ2M+D8=",
                  "public_key": "P81f5ltPhKtZcMma2/NeCv7pMTao7SItCfzGXgd92fY=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:22:35.932965Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "5e77ff31-4174-46b7-b4c0-d2415acf0f3f"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "fdae80c7-1163-4fbb-93eb-df0fe20b97ed",
                  "inserted_at": "2023-01-12T00:22:35.940545Z",
                  "ipv4": "100.64.202.162",
                  "ipv6": "fd00::35:1470",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 675",
                  "persistent_keepalive": 25,
                  "preshared_key": "xj5BGsSN3TRTFube/kxq0laFCWeOg+RKIU/xj+rMH4A=",
                  "public_key": "ObldDKlYzVRTQ2o6hT/62LkqHp28szbxx2Pc2YyugIg=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:22:35.940545Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "22d63bf9-8b22-40cc-bcd4-bdf1860ec769"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "d5b923cc-5b21-4321-bd4f-c6c473e6bbdf",
                  "inserted_at": "2023-01-12T00:22:35.947203Z",
                  "ipv4": "100.97.100.109",
                  "ipv6": "fd00::1f:9463",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 739",
                  "persistent_keepalive": 25,
                  "preshared_key": "OqpX19imoSnC2/tWX3JDKmdAuCVeLX7kUV+deyXcy/k=",
                  "public_key": "hOY8YvqyhDIgEiCcCIMb3nCLLbLecDHNB3aIIzOB+Hc=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:22:35.947203Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "74f07f29-e2be-4873-980f-db196114aa88"
                },
                {
                  "allowed_ips": "0.0.0.0/0,::/0",
                  "description": "factory description",
                  "dns": "1.1.1.1,1.0.0.1",
                  "endpoint": "localhost:51820",
                  "id": "632412b8-6184-438b-afcf-8a0bf831eed3",
                  "inserted_at": "2023-01-12T00:22:35.956495Z",
                  "ipv4": "100.92.100.106",
                  "ipv6": "fd00::26:43af",
                  "latest_handshake": null,
                  "mtu": 1280,
                  "name": "factory 803",
                  "persistent_keepalive": 25,
                  "preshared_key": "1MbRt4swFWSnF6VrQm4PejzNHsjVcDfv/e1ypiGiq9g=",
                  "public_key": "bxkzKhkHrvWnQoMp5jjy2vI3bPiJ7NEwONhkNkHgiJA=",
                  "remote_ip": null,
                  "rx_bytes": null,
                  "server_public_key": null,
                  "tx_bytes": null,
                  "updated_at": "2023-01-12T00:22:35.956495Z",
                  "use_default_allowed_ips": true,
                  "use_default_dns": true,
                  "use_default_endpoint": true,
                  "use_default_mtu": true,
                  "use_default_persistent_keepalive": true,
                  "user_id": "72738666-b784-4bfd-9a01-91c454d80686"
                }
              ]
            }
### delete [DELETE /v0/devices/{id}]

+ Parameters
    + id: `4a31c349-a22a-4c9a-b82c-4ee0e56a2cde`


+ Request DELETE /v0/devices/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

## Rules [/v0/rules/56469430-25a3-4333-aeae-e90d303a3c77]

REST API Controller for Rules.

### show [GET /v0/rules/{id}]

+ Parameters
    + id: `56469430-25a3-4333-aeae-e90d303a3c77`


+ Request GET /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "action": "drop",
                "destination": "10.10.10.0/24",
                "id": "56469430-25a3-4333-aeae-e90d303a3c77",
                "inserted_at": "2023-01-12T00:22:35.826337Z",
                "port_range": null,
                "port_type": null,
                "updated_at": "2023-01-12T00:22:35.826337Z",
                "user_id": null
              }
            }
### create [POST /v0/rules]


+ Request POST /v0/rules
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "rule": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "port_range": "1 - 2",
                "port_type": "udp",
                "user_id": "133d1d29-fff7-4645-81a1-8d92c08e5eb8"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/rules/8330f7e4-3f94-4c0f-a330-62c20d7e4000
    + Body
    
            {
              "data": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "id": "8330f7e4-3f94-4c0f-a330-62c20d7e4000",
                "inserted_at": "2023-01-12T00:22:36.075186Z",
                "port_range": "1 - 2",
                "port_type": "udp",
                "updated_at": "2023-01-12T00:22:36.075186Z",
                "user_id": "133d1d29-fff7-4645-81a1-8d92c08e5eb8"
              }
            }
### update [PUT /v0/rules/{id}]

+ Parameters
    + id: `025f4ed9-3869-4476-88e0-2a35efa7dab9`


+ Request PUT /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}
    + Body
    
            {
              "rule": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "port_range": "1 - 2",
                "port_type": "udp"
              }
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "action": "accept",
                "destination": "1.1.1.1/24",
                "id": "025f4ed9-3869-4476-88e0-2a35efa7dab9",
                "inserted_at": "2023-01-12T00:22:36.006795Z",
                "port_range": "1 - 2",
                "port_type": "udp",
                "updated_at": "2023-01-12T00:22:36.026942Z",
                "user_id": null
              }
            }
### index [GET /v0/rules]


+ Request GET /v0/rules
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "action": "drop",
                  "destination": "10.3.2.1",
                  "id": "e5ed0ee0-71c3-4e76-b47d-e1c7111d70a1",
                  "inserted_at": "2023-01-12T00:22:35.954591Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:22:35.954591Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.2",
                  "id": "5de4aadf-cad2-4992-890b-cc56d1c28549",
                  "inserted_at": "2023-01-12T00:22:35.957886Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:22:35.957886Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.3",
                  "id": "034de5d0-304a-4dae-9210-bcf89b6301a6",
                  "inserted_at": "2023-01-12T00:22:35.958872Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:22:35.958872Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.4",
                  "id": "32b458e0-c9db-4f58-9115-1f021618c995",
                  "inserted_at": "2023-01-12T00:22:35.959913Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:22:35.959913Z",
                  "user_id": null
                },
                {
                  "action": "drop",
                  "destination": "10.3.2.5",
                  "id": "ccbdd70d-c327-4458-883f-4302c6b05b27",
                  "inserted_at": "2023-01-12T00:22:35.960978Z",
                  "port_range": null,
                  "port_type": null,
                  "updated_at": "2023-01-12T00:22:35.960978Z",
                  "user_id": null
                }
              ]
            }
### delete [DELETE /v0/rules/{id}]

+ Parameters
    + id: `26dd6962-ffd4-4719-8a82-f941f6cbc470`


+ Request DELETE /v0/rules/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

## Users [/v0/users]

This endpoint allows you to provision Users.

*Auto-Create Users from OpenID or SAML providers*

You can set Configuration option `auto_create_users` to `true` to automatically create users
from OpenID or SAML providers. Use it with care as anyone with access to the provider will be
able to log-in to Firezone.

If `auto_create_users` is `false`, then you need to provision users with `password` attribute,
otherwise they will have no means to log in.

### index [GET /v0/users]


+ Request GET /v0/users
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": [
                {
                  "disabled_at": null,
                  "email": "test-483@test",
                  "id": "163a548b-ce85-4ab2-9a6e-df18427dc590",
                  "inserted_at": "2023-01-12T00:22:35.784148Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:22:35.784148Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-519@test",
                  "id": "3a0f4251-6c46-410c-baf0-cc3ab6c69830",
                  "inserted_at": "2023-01-12T00:22:35.788117Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:22:35.788117Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-551@test",
                  "id": "1cd4617e-0ef2-4717-a391-45be34044cc5",
                  "inserted_at": "2023-01-12T00:22:35.790756Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:22:35.790756Z"
                },
                {
                  "disabled_at": null,
                  "email": "test-583@test",
                  "id": "e6b2535a-a08b-409d-b151-568d95c7024e",
                  "inserted_at": "2023-01-12T00:22:35.792867Z",
                  "last_signed_in_at": null,
                  "last_signed_in_method": null,
                  "role": "admin",
                  "updated_at": "2023-01-12T00:22:35.792867Z"
                }
              ]
            }
### Create a User [POST /v0/users]

Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.



+ Request Provision an admin OpenID User
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "role": "admin"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/7eb08d0b-d4fb-4e5f-a62f-b06936952c53
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "7eb08d0b-d4fb-4e5f-a62f-b06936952c53",
                "inserted_at": "2023-01-12T00:22:35.759452Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:22:35.759452Z"
              }
            }


+ Request Provision an unprivileged OpenID User
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "role": "unprivileged"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/26714ef5-18b9-425e-a48b-7c61a308355d
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "26714ef5-18b9-425e-a48b-7c61a308355d",
                "inserted_at": "2023-01-12T00:22:36.275615Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:22:36.275615Z"
              }
            }


+ Request POST /v0/users
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "new-user@test",
                "password": "test1234test",
                "password_confirmation": "test1234test",
                "role": "unprivileged"
              }
            }

+ Response 201

    + Headers
    
            Content-Type: application/json; charset=utf-8
            Location: /v0/users/f0768de9-bbe2-4dba-9f4c-921b2fb245b2
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "new-user@test",
                "id": "f0768de9-bbe2-4dba-9f4c-921b2fb245b2",
                "inserted_at": "2023-01-12T00:22:36.157440Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:22:36.157440Z"
              }
            }


+ Request Error due to invalid parameters
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {
                "email": "test@test.com",
                "password": "test1234"
              }
            }

+ Response 422

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "errors": {
                "password": [
                  "should be at least 12 character(s)",
                  "does not match password confirmation."
                ]
              }
            }
### Update a User [PUT /v0/users/{id}]

Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.


+ Parameters
    + id: `d8b89e52-c30a-4c4d-8561-8ab282b19a6a`


+ Request Update by ID
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {}
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-2020@test",
                "id": "d8b89e52-c30a-4c4d-8561-8ab282b19a6a",
                "inserted_at": "2023-01-12T00:22:36.296189Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:22:36.296189Z"
              }
            }


+ Request Update by email
    + Headers
    
            Authorization: Bearer {api_token}
    
    + Attributes (object)
    
        + user (object, required)
            + role: `admin` (enum, optional) - User role.
                - `admin` (string)
                - `unprivileged` (string)
            + email: `foo@example.com` (string, optional) - Email which will be used to identify the user.
            + password: `FOO123bar123` (string, optional) - A password that can be used for login-password authentication. It can be empty if you want to pre-create a user that will use OpenID to authenticate.
            + password_confirmation: `FOO123bar123` (string, optional) - Password confirmation is required when `password` is set.


    + Body
    
            {
              "user": {}
            }

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-871@test",
                "id": "39ea6ae6-22cd-4dd5-91d1-594ab3032c2a",
                "inserted_at": "2023-01-12T00:22:36.280266Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "unprivileged",
                "updated_at": "2023-01-12T00:22:36.280266Z"
              }
            }
### show [GET /v0/users/test-586%40test]

+ Parameters
    + id: `test-586@test`


+ Request GET /v0/users/{email}
An email can be used instead of ID.

    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-586@test",
                "id": "e5ec60fc-30b2-41c4-a1b1-2fb17a5a56e1",
                "inserted_at": "2023-01-12T00:22:36.211749Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:22:36.211749Z"
              }
            }


+ Request GET /v0/users/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 200

    + Headers
    
            Content-Type: application/json; charset=utf-8
    + Body
    
            {
              "data": {
                "disabled_at": null,
                "email": "test-1668@test",
                "id": "40e8995f-1ced-4fde-a7ba-2aff8c7cb48b",
                "inserted_at": "2023-01-12T00:22:36.016055Z",
                "last_signed_in_at": null,
                "last_signed_in_method": null,
                "role": "admin",
                "updated_at": "2023-01-12T00:22:36.016055Z"
              }
            }
### delete [DELETE /v0/users/test-1346%40test]

+ Parameters
    + id: `test-1346@test`


+ Request DELETE /v0/users/{email}
An email can be used instead of ID.

    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            


+ Request DELETE /v0/users/{id}
    + Headers
    
            Authorization: Bearer {api_token}

+ Response 204

    + Body
    
            

