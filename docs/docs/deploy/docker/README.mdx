---
title: Docker
sidebar_position: 2
---

As of 0.6.0, Docker is now the **preferred method** for
deploying Firezone. Docker offers a number of benefits over the old
[Omnibus method](../omnibus):

- **Simpler, more robust upgrades**: In most cases, simply pull the latest `firezone/firezone`
  image and restart the container.
- **Simpler configuration**: Most day-to-day configuration of Firezone can now
  be done in the web UI instead of the `/etc/firezone/firezone.rb` configuration
  file. All other configuration variables can be specified as ENV vars to the
  Firezone container.
- **Smaller footprint**: The Firezone image weighs in at a couple dozen
  megabytes versus hundreds of megabytes for the Omnibus package.
- **Portability**: Firezone now runs on any platform supports Docker.
- **Security**: Containerization providers better security isolation than
  simply running as an unprivileged local user.

## Prerequisites

Ensure the following conditions are met before attempting to run the automatic
install script:

1. A recent version[`docker-compose`]( is installed for your

## Automatic Install

The easiest way to deploy Firezone with Docker is the automatic install script:

```bash
sudo -E bash -c "$(curl -fsSL https://github.com/firezone/firezone/raw/master/scripts/docker_install.sh)"
```

This will ask you a few questions regarding initial configuration, then proceed
to download a sample docker-compose.yml file, configure it with your responses,
and then print instructions for accessing the Web UI.

## Manual Install

If the automatic install fails, or you'd just like more control over the
installation process, follow the steps below to install manually.

:::note
Before deploying Firezone in production, you'll need a valid DNS record
pointing to this instance. See [Prepare to Deploy](../#prepare-to-deploy)
if you haven't done this already.
:::

1. Ensure you're on a supported platform and have a recent version of
   [docker-compose](https://docs.docker.com/compose/install/) installed.
1. Download the docker compose template to a local working directory:
  ```shell
  curl -fsSL https://raw.githubusercontent.com/firezone/firezone/master/docker-compose.prod.yml -o docker-compose.yml
  ```
1. Generate required secrets:
  ```shell
  docker run --rm firezone/firezone bin/gen-env > .env
  ```
1. At a minimum, change the `ADMIN_EMAIL` and `EXTERNAL_URL` variables.
   Optionally modify other secrets as needed.
1. Bring the services up: `docker compose up -d`
1. Wait about a minute for the services to boot, then create the first admin:
  ```shell
  docker compose run --rm firezone bin/create-or-reset-admin
  ```

You should now be able to access the Firezone web portal at the `EXTERNAL_URL`
variable you defined above.
