---
title: Docker
sidebar_position: 2
---

As of 0.6.0, Docker is now the **preferred method** for deploying Firezone. It
offers a number of benefits over the [Omnibus method](../omnibus):

- **Simpler, more robust upgrades**: In most cases, simply pull the latest `firezone/firezone`
  image and restart the container.
- **Simpler configuration**: Most day-to-day configuration of Firezone can now
  be done in the web UI instead of the `/etc/firezone/firezone.rb` configuration
  file. All other configuration variables can be specified as ENV vars to the
  firezone container.
- **Smaller footprint**: The firezone image weighs in at a couple dozen
  megabytes versus hundreds of megabytes for the Omnibus package.
- **Portability**: The firezone web portal can (in theory) now run on any
  platform that runs Docker.
- **Security**: Containerization providers better isolation than simply running
  as an unprivileged local user.

## Quickstart

Follow the quick start guide below to get up and running with Firezone on Docker.

:::note
Before deploying Firezone in production, you'll need a valid DNS record
pointing to this instance. See [prerequisites](../#prerequisites) if you haven't
done this already.
:::

:::warning
Docker Desktop [rewrites the source IP
](https://www.docker.com/blog/how-docker-desktop-networking-works-under-the-hood/)
for packets leaving the container network. This causes routing loops for
NAT / masqueraded traffic and is not recommended. We recommend using [Docker
Server](https://docs.docker.com/engine/install/#server) only at this time.
:::

1. Ensure you're on a supported platform and have a recent version of
   [docker-compose](https://docs.docker.com/compose/install/) installed.
1. Download the docker compose template to a local working directory:
  ```shell
  curl -fsSL https://raw.githubusercontent.com/firezone/firezone/master/docker-compose.prod.yml -o docker-compose.yml
  ```
1. Generate required secrets:
  ```shell
  docker run --rm firezone/firezone bin/gen-env > .env
  ```
1. At a minimum, change the `ADMIN_EMAIL` and `EXTERNAL_URL` variables.
   Optionally modify other secrets as needed.
1. Bring the services up: `docker compose up -d`
1. Wait about a minute for the services to boot, then create the first admin:
  ```shell
  docker compose run --rm firezone bin/create-or-reset-admin
  ```

You should now be able to access the Firezone web portal at the `EXTERNAL_URL`
variable you defined above.
