---
title: Users
sidebar_position: 2
toc_max_heading_level: 4
---


This endpoint allows you to provision Users.

## Auto-Create Users from OpenID or SAML providers

You can set Configuration option `auto_create_users` to `true` to automatically create users
from OpenID or SAML providers. Use it with care as anyone with access to the provider will be
able to log-in to Firezone.

If `auto_create_users` is `false`, then you need to provision users with `password` attribute,
otherwise they will have no means to log in.

## API Documentation
### List All Users [`GET /v0/users`]



#### Example
```bash
$ curl -i \
  -X GET "https://{firezone_host}/v0/users" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \

HTTP/1.1 200
Content-Type: application/json; charset=utf-8

{
  "data": [
    {
      "disabled_at": null,
      "email": "test-678@test",
      "id": "7f18908d-5218-42b9-a02d-5106f1e2ace3",
      "inserted_at": "2023-01-13T02:25:23.474697Z",
      "last_signed_in_at": null,
      "last_signed_in_method": null,
      "role": "admin",
      "updated_at": "2023-01-13T02:25:23.474697Z"
    },
    {
      "disabled_at": null,
      "email": "test-679@test",
      "id": "1e1d69f7-801a-44d6-965d-eb4759d93c5a",
      "inserted_at": "2023-01-13T02:25:23.478294Z",
      "last_signed_in_at": null,
      "last_signed_in_method": null,
      "role": "admin",
      "updated_at": "2023-01-13T02:25:23.478294Z"
    },
    {
      "disabled_at": null,
      "email": "test-710@test",
      "id": "0a855566-deec-4dad-a400-c12e55f71a61",
      "inserted_at": "2023-01-13T02:25:23.480429Z",
      "last_signed_in_at": null,
      "last_signed_in_method": null,
      "role": "admin",
      "updated_at": "2023-01-13T02:25:23.480429Z"
    },
    {
      "disabled_at": null,
      "email": "test-742@test",
      "id": "9f2caba3-0c6e-400c-b589-b069fd749eb5",
      "inserted_at": "2023-01-13T02:25:23.482448Z",
      "last_signed_in_at": null,
      "last_signed_in_method": null,
      "role": "admin",
      "updated_at": "2023-01-13T02:25:23.482448Z"
    }
  ]
}
```
### Create a User [`POST /v0/users`]


Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.

#### Example
```bash
$ curl -i \
  -X POST "https://{firezone_host}/v0/users" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {
    "email": "new-user@test",
    "password": "test1234test",
    "password_confirmation": "test1234test",
    "role": "unprivileged"
  }
}'
EOF

HTTP/1.1 201
Content-Type: application/json; charset=utf-8
Location: /v0/users/029210a7-c85f-4166-ae01-66473ebbe913

{
  "data": {
    "disabled_at": null,
    "email": "new-user@test",
    "id": "029210a7-c85f-4166-ae01-66473ebbe913",
    "inserted_at": "2023-01-13T02:25:23.366585Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "unprivileged",
    "updated_at": "2023-01-13T02:25:23.366585Z"
  }
}
```
#### Provision an unprivileged OpenID User
```bash
$ curl -i \
  -X POST "https://{firezone_host}/v0/users" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {
    "email": "new-user@test",
    "role": "unprivileged"
  }
}'
EOF

HTTP/1.1 201
Content-Type: application/json; charset=utf-8
Location: /v0/users/b5e26803-cbd1-4839-a217-1504990de13c

{
  "data": {
    "disabled_at": null,
    "email": "new-user@test",
    "id": "b5e26803-cbd1-4839-a217-1504990de13c",
    "inserted_at": "2023-01-13T02:25:23.305637Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "unprivileged",
    "updated_at": "2023-01-13T02:25:23.305637Z"
  }
}
```
#### Provision an admin OpenID User
```bash
$ curl -i \
  -X POST "https://{firezone_host}/v0/users" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {
    "email": "new-user@test",
    "role": "admin"
  }
}'
EOF

HTTP/1.1 201
Content-Type: application/json; charset=utf-8
Location: /v0/users/11d401ac-0312-4b51-8618-76752fd6d9db

{
  "data": {
    "disabled_at": null,
    "email": "new-user@test",
    "id": "11d401ac-0312-4b51-8618-76752fd6d9db",
    "inserted_at": "2023-01-13T02:25:23.557377Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "admin",
    "updated_at": "2023-01-13T02:25:23.557377Z"
  }
}
```
#### Error due to invalid parameters
```bash
$ curl -i \
  -X POST "https://{firezone_host}/v0/users" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {
    "email": "test@test.com",
    "password": "test1234"
  }
}'
EOF

HTTP/1.1 422
Content-Type: application/json; charset=utf-8

{
  "errors": {
    "password": [
      "should be at least 12 character(s)",
      "does not match password confirmation."
    ]
  }
}
```
### GET /v0/users/{id}



#### An email can be used instead of ID.
**URI Parameters:**

  - `id`: `test-326@test`
```bash
$ curl -i \
  -X GET "https://{firezone_host}/v0/users/{id}" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \

HTTP/1.1 200
Content-Type: application/json; charset=utf-8

{
  "data": {
    "disabled_at": null,
    "email": "test-326@test",
    "id": "56c887e8-ddd6-4c61-8bfc-5b3044582abd",
    "inserted_at": "2023-01-13T02:25:23.390889Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "admin",
    "updated_at": "2023-01-13T02:25:23.390889Z"
  }
}
```
### Update a User [`PATCH /v0/users/{id}`]


Please see `Auto-Create Users from OpenID or SAML providers` for more details
on `password` field usage.

#### Update by email
**URI Parameters:**

  - `id`: `test-774@test`
```bash
$ curl -i \
  -X PUT "https://{firezone_host}/v0/users/{id}" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {}
}'
EOF

HTTP/1.1 200
Content-Type: application/json; charset=utf-8

{
  "data": {
    "disabled_at": null,
    "email": "test-774@test",
    "id": "d3e9efe4-f33b-4226-b3b0-c06bc1c9e555",
    "inserted_at": "2023-01-13T02:25:23.514957Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "unprivileged",
    "updated_at": "2023-01-13T02:25:23.514957Z"
  }
}
```
#### Update by ID
**URI Parameters:**

  - `id`: `278c14cb-cb5e-4227-9dc4-e93e4a7391de`
```bash
$ curl -i \
  -X PUT "https://{firezone_host}/v0/users/{id}" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \
  --data-binary @- << EOF
{
  "user": {}
}'
EOF

HTTP/1.1 200
Content-Type: application/json; charset=utf-8

{
  "data": {
    "disabled_at": null,
    "email": "test-745@test",
    "id": "278c14cb-cb5e-4227-9dc4-e93e4a7391de",
    "inserted_at": "2023-01-13T02:25:23.579838Z",
    "last_signed_in_at": null,
    "last_signed_in_method": null,
    "role": "unprivileged",
    "updated_at": "2023-01-13T02:25:23.579838Z"
  }
}
```
### DELETE /v0/users/{id}



#### Example
**URI Parameters:**

  - `id`: `4b8bc40b-f17d-4e94-8032-0d2407c4d62b`
```bash
$ curl -i \
  -X DELETE "https://{firezone_host}/v0/users/{id}" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \

HTTP/1.1 204
```
#### An email can be used instead of ID.
**URI Parameters:**

  - `id`: `test-1410@test`
```bash
$ curl -i \
  -X DELETE "https://{firezone_host}/v0/users/{id}" \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer {api_token}' \

HTTP/1.1 204
```
